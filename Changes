Revision history for Perl extension AxKit::App::TABOO.

0.084	2004-09-22 05:30
	- The login-stuff has seen a facelift.
	- The config example is now redone and has actually been
	  verified to work well...
	- bugfixing by adding explicit param session.id's where they
	  previously been forgotten. 
	- It now depends on BasicSession 0.21, the previous release
          had a bug.
	- Cleaned up the pointy brackets in the taglib documentation. 
	- Quite some more testing.

0.083	2004-09-17 01:30
	- Fixing a few bugs, some small ones, and a big one: The
	menu.xsp didn't the user's session, because it was called from
	the server. This also needed a new feature in BasicSession,
	which is also being updated.
	- Added some CSS, and a few changes in the output HTML. Right
	now, text/html is being outputted, I had some problems
	applying the CSS to xml. 
	- Moved main.rdf down to a site-dir. The idea is that
	everything that must be edited is going there.
	- added explicit xsl:param "declarations" whenever
	appropriate. A great hacker said it should be there.

0.082 	2004-09-10
	- Main thing is a new menu system. There is a file menu.xsp
	  that generates menus, which is currently run by the
	  mainpage. Still needs work, but the basic idea is there.
	- Changed the i18n behaviour. There is now an include EXSLT
	  function, and the insert element should now have the
	  identifying string as content. Furthermore, it must be
	  imported rather than added to the pipeline.
	- Removed the limitation that the is-authorized tag threw "not
	  authorized" if no authlevel was given.
	- Using the default namespace for many elements was bad
	  practice, added namespaces for several elements and made some
	  larger cleanups. It isn't perfect, but at least a lot better.
	- the action link in the user.xsl was wrong.
	- Reordered and cleaned up this file a bit. 
	- A couple of minor clean-ups.

0.081	  2004-09-02 16:25
	- Some small changes in the documentation.
	- Some more testing on the server.

0.08_2	  2004-09-02 15:50
	- Apache::AxKit::Plugin::AddXSLParams::Request is now needed
	  to allow for virtual hosts. Used in index-aggregate.xsl
	- More files in the sql/ dir:
	       * grant.sql explicitly sets passwords and permissions. 
	       * news-minimal.sql gives the minimal stuff that should
	       go into a new db.
	       * Some more stsec stuff in test.
	- Small edits in main.rdf example.

0.08_1	  2004-08-31 03:04
	- Main thing is to make the database parameters configurable. 
	 	* That should allow different configs for different
		  virtual hosts.	    
		* dbstring, dbuser and dbpasswd class data methods
		  removed.
		* dbconnectargs method added.
		* Rewrote all connect calls.
		* Preferred method for DB config is now DBI_DSN and
		  related environment variables.
		* ...but all new constructors to Data objects can take
		  the DBI connect arguments.
	- Another big thing is that I removed the webshop stuff. It
	  now lags far behind the rest of TABOO, and allthough it is
	  easy to update, I see no point in having it there.
	- Reorganized the SQL files, separating the create stuff in a
	  file by itself. 
	- Some tests now make no sense, some new added.
	- A few more fixups, mainly in documentation.

0.08	  2004-08-26 05:00
	- Added a xmlprefix() method to Data classes. This allows to
	explicitly set the namespace prefix for elements generated by
	an object's write_xml(). Seems to be needed for many
	applications.
	- Added a main.rdf file, which gives the main title for the
	site, a description and a slogan. This is then used by a
	header.xsl to generate headers, and append a little string to
	the titles.
	- All XHTML pages get the header by a call-template.
	- Now the front page actually works!
	- Found that I do not actually need explicit file: in my i18n code.

0.076    2004-08-22 04:28
	- Now depends on AxKit::XSP::BasicSession 0.19, since it
	really fixes the bug that bit me...: CPAN RT 5212. 
	- Fixed a bug that made taglibs deny access if authlevel == 0
	- XIncluding htdocs/guest-login.xsp will log in a user who
	doesn't allready have a session as guest. This is mandatory
	for story submission, for example. 
	- Added a very simple front page, which is an aggregate of
	other URIs, really. 
	- Use of the Passthru plugin is needed for some things.
	- Some changes in the config example.

0.075	 2004-08-06 04:05
	- Moved the user/*.xsp's down to ease the config job a bit.
	- Added SIGNATURE (please verify!) and MANIFEST.SKIP
	- Updated the configuration example.
	- I can't decide whether URLs to transforms should be relative
	or absolute. They are absolute in this release.

0.074	 2004-08-04 17:23
	- Reorganized the directories with the XSLT files. 
	- Wrote XSLT to transform to HTML for the NewsList Provider.
	- Added plural addcatinfo and adduserinfo methods to Stories.
	- NewsList will include some information about the section if
	it exists and categories of each story.
	- I found that the best way to do styling for the Providers
	were actually to implement get_styles. Those that are there
	now are rather minimal.
	- Added some attributes to root elements of the Providers.
	- Removed the html: prefix in control-html.xsl. This was a
	bug, and the reason it worked was a bug in libxslt <= 1.1.7.
	- Added the name of the logged-in user to the key in the
	Providers. 
	- Commented out the code to deal with secondary categories. 
	- A few small changes.

0.073 	 2004-07-17 14:10
	- Mainly a bugfix and documentation release. 
	- Found a way to use regex in the Apache config to accomodate
	for all the things I have in /news/
	- Use /news/submit rather than /news/submit.xsp
	- Some minor things in the Story XSP and Data, 
	       + I had forgot to have the reimplemented load method,
	       so it didn't return undef. 
	       + get-story now throws 404 if it can't find the story
	       to be edited.
	- NewsList gets its URI documentation. 
	- Configuration example in main TABOO.pm
	- A few more cleanups.

0.072 	 2004-07-15 17:52
	- Uhm, was I rushing this....? 

0.071  	 2004-07-15 17:50
	- Forgot to add the NewsList Provider to the MANIFEST. 

0.07 	  2004-07-15 15:18 
	- A new AxKit::App::TABOO::Provider::NewsList Provider, which
	is used to make lists of the stories.
	- Now depends on AxKit::XSP::BasicSession 0.18, as it fixed a
	bug that bit me.
	- Plurals will now die with an error message if you try to use
	methods that are only implemented for singular objects.
	- load methods have undergone some more changes:
	       + Plurals have gained orderby and entries arguments. 
	       + Plurals will load OK also if you ask for all records
	       (i.e. limit argument to load() is undef).
	       + The load methods will return undef if no record was 
	       possible to retrieve with the arguments given. 
	- Change the News Provider to use the method of Kip's book for exists.
	- XSP::Story will again set the timestamp to now unless given
	as a parameter.	
	- New Grep method for Plurals.

0.06 	  2004-07-10 23:18
	- TABOO can now be used to edit posts that are allready in the
	datastore! Just supply an 'edit' query parameter to
	submit.xsp, as well as valid values of 'storyname' and
	'sectionid'.
		+ a part of this was a insert-values-edit.xsl
		transformations. It'll choose values from query
		parameters or data store. It is a bit unelegant,
		though. 
	- submitterid is dealt with a bit more intelligently, and an
	editor may change it upon reviewing data.
	- Renamed this-user to get-user in the User Taglib. The
	this-prefix should be used for a tag working on parameter
	data, so I'll use get- for tags that get stuff from the data
	store. 
	- New get-story tag in the Story taglib.
	- addcatinfo() now includes both name and username.

0.05	  2004-07-01 23:45
	- Set the internal data XMLELEMENT and XMLNS to undef for the
	Plural classes. 
	- Removed the internal _addinfo method. 
	- Moved some stuff from init to get_strref in the News
	Provider.
	- New Push method for plurals.
	- Minor changes in most files, but too small and too numerous
	to list them all....

0.05_3	  2004-06-27 21:15
	- This release should pretty much contain all I have to date.
	- Orders and OrderedItems data classes added for the webshop.
	- A Stories Plural class enables us to check out several
	stories.
	- A few minor changes to some method APIs.
	- And a few more excuses in the POD... 

0.05_1	  2004-05-15 22:55
	- There are quite a few big changes in this release, just
	brief outline here.
	- Adding "Plurals" Data subclasses. This is a rather big
	conceptual change, which makes it possible to work on an array
	of Data object. 
	- Started working on a webshop for TABOO, and have added some
	code to support that, mainly data objects. Some SQL too.  
	- Renamed apache_request_data to populate after realizing it
	is more generic than that...  
	- AxKit::App::TABOO::Data::Category::all_of_type is obsoleted
	by the introduction of plurals. 
	- Numerous fixups in the POD. 


0.04	  2004-03-30 15:00
	- I think this is worthy of being called a real ALPHA!
	- Added lots of XSLT, and redesigned a lot in the pipelines, a
	lot of it thanks to helpful remarks by Mike Nachbaur and Tod
	Harter, including
		* First part of the pipeline generates consistent
		markup for several pages.  
		* Splitting up the stylesheets so that each individual
		file solves a specific task. 
		* A small stylesheet that imports other stylesheets
		that do the hard work.
		* Finally, a stylesheet that inserts i18n strings from
		a separate XML file. This is however only implemented
		as proof of concept in this release, there are still
		many strings that will be replaced.
	- XSP page to really be able to submit a story
	- XSP page to edit user information
	- XSP page to submit a new user. 
		* This needs AxKit::XSP::Sendmail and 
		Crypt::GeneratePassword
		* And I lifted random-password from Joerg Walter's Auth
		taglib, I found that was better than using the
		taglib. 
	- Started work on editing an allready submitted story, but
	this requires some new tags, and possibly redoing some more
	architectural things, so it is a TODO to be addressed
	shortly. 
	- New tags:
		* AxKit::App::TABOO::XSP::User:
		     + new-user
		     + exists
		     + random-password (Author: Joerg Walter)
		* AxKit::App::TABOO::XSP::Story:
		     + I had forgotten to document this-story in the
		     previous release. 


0.032	  2004-03-19 11:15
	- Fixed some bugs in the News Provider, which made it fail to
	encapsulate headings of comments in a "commentlist" element.
	- The News Prover exists method now does some real checking,
	but I also discovered it is inadequate, because if the record
	doesn't exist, there will be an error long before it gets
	here... That's a TODO. 
	- Added an editorok method to AxKit::App::TABOO::Data::Story.
	- ...and used that to have the News Provider check if the
	story should be displayed. 
	- Added a number of XSLT things. This has been my main pain the
	last few weeks. If you are in the position to ease my pain,
	please do, but it is not for the faint at heart... :-)
	- Added dependency on XML::LibXML 1.57
	- A few notes on that my Data objects need more work when it
	comes to plurals. 

0.031	  2004-02-27 22:15
	- Now that DBD::Pg 1.32 is out, we depend on it. 
	- Cleaned up and fixed a few things in the authlevel code, 
	affecting mainly AxKit::App::TABOO::XSP::User.
	- Actually tested that authentication works OK. 
	- Quite a lot of changes in the XSP and XSLT.
	- Fixed a few typos. 


0.03	  2004-02-19 23:00
	- Reworking the packaging completely, trying to include the
	XML files (XSP, XSLT) that I'm working on, as well as some
	test data in SQL.
	- With the inclusion of XSP, we require AxKit::XSP::QueryParam.
	- A new and ugly tag valid-authlevels in
	AxKit::App::TABOO::XSP::User. 



0.021	  2004-02-18 11:10  
	- Added a apache_request_changed to AxKit::App::TABOO::Data
	- Fixed a bug in the code to check whether to insert or update.
	- Changed the test to check if there is anything in the
	variable to next unless defined().
	- A few small changes in the POD.
	- Actually tested AxKit::App::TABOO::XSP::User <store> - it 
	seems to work! 

0.021_2	  2004-02-16 23:10  
	- Added version numbers to all files
	- Added an ONFILE data member which is used internally to
	check whether we can expect to find the object in the
	storage. This is set by all methods that load something,
	making it possible for save-methods to know whether to INSERT
	or UPDATE. 
	- Added a save-method to AxKit::App::TABOO::Data::User::Contributor.
	- Reviewed the changes of the previous upload. 

0.021_1	  2004-02-14 00:10
	- Throwing a slightly unfinished development version out the
	door for various reasons. 
	- Adds namespaces to all XML representations. The namespace
	can be set by an xmlns() method, but has sensible defaults.
	- New elements
		* AxKit::App::TABOO::XSP::Story
		 	+ this_story
		* AxKit::App::TABOO::XSP::User
			+ this_user
			+ store (not very well tested)
	- Added an username attribute to is_authorized, to allow for
	checking access for a particular user (e.g. the owner). 
	- Starting to add version numbers to all files. 

0.02  	 2004-02-01 00:10
	- Added 
		* AxKit::App::TABOO::Data::User::Contributor
		* AxKit::App::TABOO::XSP::Story
		* AxKit::App::TABOO::XSP::User
		* AxKit::App::TABOO::XSP::Category
	- Made internal class variables lower case for those pulled from DB
	- Removed the use of Alias (how did we do that in SIMULA...?) 
	- Remove XML::Writer to use XML::LibXML for everything
	- Added methods:
		* In AxKit::App::TABOO::Data
			+ apache_request_data
			+ save
			+ stored
		* In AxKit::App::TABOO::Data::Category
			+ all_of_type
	- Made most internal DBI queries throw Exception::Class::DBI
	exceptions in case of failures. I have been unsuccessful in
	catching them, so it is not quite like I want it yet, and
	changes in this must be expected.  
	- Quite a lot of minor changes in the internals.

0.011  	 2003-12-11 15:23
	- First successful upload to CPAN.

0.01_01  2003-12-08 18:06:47
        - First release created.


